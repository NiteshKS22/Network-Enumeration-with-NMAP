## DNS

### HOW DNS WORKS?

u go to example.com into browser search bar and u get the website open how these works?

<img width="1854" height="504" alt="image" src="https://github.com/user-attachments/assets/f85d1aa6-3c8d-436b-b354-5145da890513" />

# How DNS Works: Step-by-Step Explanation

## 1. Your Computer Asks for Directions (DNS Query)

When you enter a domain name (e.g., `example.com`) into your browser, your computer first checks its **local cache** to see if it already knows the corresponding IP address from a previous visit.  
If the address isn’t found, your computer sends the request to a **DNS resolver**, usually provided by your Internet Service Provider (ISP).

---

## 2. The DNS Resolver Checks Its Map (Recursive Lookup)

The DNS resolver also checks **its own cache**.  
If the IP address isn't found there either, the resolver begins a **recursive query**—a step-by-step journey through the DNS hierarchy—starting with the **root name server**.

---

## 3. Root Name Server Points the Way

The **root server** doesn’t know the final IP address, but it does know where to find more specific information.  
It points the resolver to the **Top-Level Domain (TLD) name server**, responsible for domains ending in `.com`, `.org`, `.net`, etc.

---

## 4. TLD Name Server Narrows It Down

The **TLD name server** acts like a regional map.  
It tells the resolver which **authoritative name server** is responsible for the specific domain you’re looking for (e.g., `example.com`).

---

## 5. Authoritative Name Server Delivers the Address

The **authoritative name server** is the final destination.  
It holds the actual **IP address** for the domain and sends this information back to the DNS resolver.

---

## 6. The DNS Resolver Returns the Information

The resolver gives the IP address to your computer and stores (caches) it for a short period.  
This caching speeds up future requests for the same domain.

---

## 7. Your Computer Connects

Now that your computer has the IP address, it can connect directly to the **web server** hosting the website, allowing you to start browsing.

---

### Summary

The DNS process is like asking for directions:
- Your device checks local memory.
- If not found, it asks a resolver.
- The resolver asks root servers, TLD servers, and finally authoritative servers.
- The correct IP address is returned and used to establish a connection.



## The Hosts File

it is a simple text file used to map hostnames to IP adress, Providing a manual method of damain name resolution that bypass the DNS process.

The hosts file is located in C:\Windows\System32\drivers\etc\hosts on Windows and in /etc/hosts on Linux and MacOS. Each line in the file follows the format:

```
<IP Address>    <Hostname> [<Alias> ...]
```

example
```
127.0.0.1       localhost
192.168.1.10    devserver.local
```

or blocking unwanted websites by redirecting their domains to a non-existent IP address:
```
0.0.0.0       unwanted-site.com
```

### Key DNS Concepts

In the Domain Name System (DNS), a zone is a distinct part of the domain namespace that a specific entity or administrator manages. Think of it as a virtual container for a set of domain names. For example, example.com and all its subdomains (like mail.example.com or blog.example.com) would typically belong to the same DNS zone.

The zone file, a text file residing on a DNS server, defines the resource records (discussed below) within this zone, providing crucial information for translating domain names into IP addresses.

```
$TTL 3600 ; Default Time-To-Live (1 hour)
@       IN SOA   ns1.example.com. admin.example.com. (
                2024060401 ; Serial number (YYYYMMDDNN)
                3600       ; Refresh interval
                900        ; Retry interval
                604800     ; Expire time
                86400 )    ; Minimum TTL

@       IN NS    ns1.example.com.
@       IN NS    ns2.example.com.
@       IN MX 10 mail.example.com.
www     IN A     192.0.2.1
mail    IN A     198.51.100.1
ftp     IN CNAME www.example.com.
```

This file defines the authoritative name servers (NS records), mail server (MX record), and IP addresses (A records) for various hosts within the example.com domain.

DNS servers store various resource records, each serving a specific purpose in the domain name resolution process. Let's explore some of the most common DNS concepts:

| DNS Concept                | Description                                                                 | Example                                                  |
|----------------------------|-----------------------------------------------------------------------------|----------------------------------------------------------|
| **Domain Name**            | A human-readable label for a website or other internet resource.            | `www.example.com`                                        |
| **IP Address**             | A unique numerical identifier assigned to each device connected to the internet. | `192.0.2.1`                                              |
| **DNS Resolver**           | A server that translates domain names into IP addresses.                    | Your ISP's DNS server or public resolvers like Google DNS (`8.8.8.8`) |
| **Root Name Server**       | The top-level servers in the DNS hierarchy.                                 | There are 13 root servers worldwide, named A–M: `a.root-servers.net` |
| **TLD Name Server**        | Servers responsible for specific top-level domains (e.g., .com, .org).      | Verisign for `.com`, PIR for `.org`                      |
| **Authoritative Name Server** | The server that holds the actual IP address for a domain.                 | Often managed by hosting providers or domain registrars. |
| **DNS Record Types**       | Different types of information stored in DNS.                               | `A`, `AAAA`, `CNAME`, `MX`, `NS`, `TXT`, etc.            |


Now that we've explored the fundamental concepts of DNS, let's dive deeper into the building blocks of DNS information – the various record types. These records store different types of data associated with domain names, each serving a specific purpose:

| Record Type | Full Name               | Description                                                                                                  | Zone File Example                                                     |
|-------------|------------------------|--------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
| A           | Address Record          | Maps a hostname to its IPv4 address.                                                                        | `www.example.com. IN A 192.0.2.1`                                   |
| AAAA        | IPv6 Address Record     | Maps a hostname to its IPv6 address.                                                                        | `www.example.com. IN AAAA 2001:db8:85a3::8a2e:370:7334`            |
| CNAME       | Canonical Name Record   | Creates an alias for a hostname, pointing it to another hostname.                                           | `blog.example.com. IN CNAME webserver.example.net.`                 |
| MX          | Mail Exchange Record    | Specifies the mail server(s) responsible for handling email for the domain.                                 | `example.com. IN MX 10 mail.example.com.`                           |
| NS          | Name Server Record      | Delegates a DNS zone to a specific authoritative name server.                                               | `example.com. IN NS ns1.example.com.`                               |
| TXT         | Text Record             | Stores arbitrary text information, often used for domain verification or security policies.                 | `example.com. IN TXT "v=spf1 mx -all"` (SPF record)                 |
| SOA         | Start of Authority Record| Specifies administrative information about a DNS zone, including the primary name server, responsible person's email, and other parameters. | `example.com. IN SOA ns1.example.com. admin.example.com. 2024060301 10800 3600 604800 86400` |
| SRV         | Service Record          | Defines the hostname and port number for specific services.                                                 | `_sip._udp.example.com. IN SRV 10 5 5060 sipserver.example.com.`    |
| PTR         | Pointer Record          | Used for reverse DNS lookups, mapping an IP address to a hostname.                                         | `1.2.0.192.in-addr.arpa. IN PTR www.example.com.`                   |

